environment = "prod"

# Find your object ID with: az ad signed-in-user show --query id -o tsv
# At least one owner is required
#
# Naming convention (enforced):
#   Backends: {app_name}-Backend-{STAGE}  (e.g., MyApp-Backend-PROD)
#   SPAs:     {app_name}-Frontend-{STAGE} (e.g., MyApp-Frontend-PROD)

backends = {
  myapp = {
    app_name = "MyApp"
    owners   = ["00000000-0000-0000-0000-000000000000", "11111111-1111-1111-1111-111111111111"]
    # In production, typically use existing groups from identity team
    role_group_assignments = {
      user   = "22222222-2222-2222-2222-222222222222"
      viewer = "33333333-3333-3333-3333-333333333333"
      admin  = "44444444-4444-4444-4444-444444444444"
    }
    # Optional: target_backends for backend-to-backend access (client credential flow)
    # target_backends = {
    #   other-backend = {
    #     roles = ["reader"]
    #   }
    # }
  }
}

spas = {
  myapp-web = {
    app_name      = "MyApp"
    backend       = "myapp"
    redirect_uris = ["https://myapp.company.com"]
    owners        = ["00000000-0000-0000-0000-000000000000", "11111111-1111-1111-1111-111111111111"]
  }
}
